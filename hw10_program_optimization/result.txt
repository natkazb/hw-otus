before


after
go test -v -count=1 -timeout=30s -tags bench .
=== RUN   TestGetDomainStat_Time_And_Memory
    stats_optimization_test.go:46: time used: 252.945082ms / 300ms
    stats_optimization_test.go:47: memory used: 2Mb / 30Mb
--- PASS: TestGetDomainStat_Time_And_Memory (3.81s)
PASS
ok      github.com/natkazb/hw-otus/hw10_program_optimization    3.817s